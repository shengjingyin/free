import{s as T,d as j,v as z,f as r,a as u,o as l,B as p,c as V,u as c,C as F,p as D,q as M,t as R,D as $,F as I,n as i,w,g as C,E as S,l as L}from"./index.30778686.js";import{u as y}from"./lowcode.010f5777.js";import{_ as P}from"./_plugin-vue_export-helper.cdc0426e.js";const a=y(),X=e=>new Promise(n=>setTimeout(n,e));function U(e){return a.idMap.hasOwnProperty(e)?a.idMap[e]+1:1}function W(e,n){a.idMap[e]=n,++a.idMap.total,T.set("idMap",JSON.stringify(a.idMap))}const G={class:"node-list"},J={key:0,class:"bind-model"},K=j({__name:"comp-wrap",props:{parent:{type:Object,required:!0},element:{type:Object,required:!0},index:{type:Number,required:!0},modelValue:{type:[String,Object,Number,Boolean]}},emits:["update:modelValue"],setup(e,{emit:n}){const s=e,{select:b,idMap:B}=z(y()),{SET_CUR_SELECT:v}=y(),m=r(()=>b.value.model==s.element.model),N=t=>{v(t.i)},f=r({get(){return s.parent.children},set(){}}),d=r({get(){return s.modelValue||""},set(t){n("update:modelValue",t)}}),h=()=>{const t=L.exports.cloneDeep(s.element),o=U(t.component);t.model=t.component+`_${o}`,t.i=String(B.value.total+1),t.x=t.x,t.y=t.y+t.h,f.value.push(t),W(t.component,o)},E=()=>{f.value.splice(s.index,1),v("0")};return(t,o)=>{var k,x;const O=u("CopyDocument"),_=u("el-icon"),q=u("Delete");return l(),p("div",{onClick:o[1]||(o[1]=C(g=>N(e.element),["stop"])),class:S(["item-container",c(m)?"active":""])},[e.element.inForm?(l(),V(D(e.element.component),{key:0,element:e.element,modelValue:c(d),"onUpdate:modelValue":o[0]||(o[0]=g=>F(d)?d.value=g:null)},null,8,["element","modelValue"])):(l(),V(D(e.element.component),{key:1,element:e.element},null,8,["element"])),M("div",G,[((k=e.element.options)!=null&&k.dataBind,l(),p("span",J,R(`${(x=e.element)==null?void 0:x.model}`),1)),c(m)?(l(),p(I,{key:1},[i(_,{class:"copy tool",title:"\u590D\u5236",size:16,onClick:C(h,["stop"])},{default:w(()=>[i(O)]),_:1},8,["onClick"]),i(_,{class:"delete tool",title:"\u5220\u9664",size:16,onClick:C(E,["stop"])},{default:w(()=>[i(q)]),_:1},8,["onClick"])],64)):$("",!0)]),M("div",{class:S(["drag-able",c(m)?"active":""])},null,2)],2)}}});const Y=P(K,[["__scopeId","data-v-9ded1303"]]);export{Y as C,X as a,U as g,W as s};
