<template>
  <div class="dropzone">
    <div id="draggable" draggable="true" @drag="drag" @dragstart="dragstart" @dragend="dragend">
      è¿™ä¸ª div å¯ä»¥æ‹–åŠ¨
    </div>
  </div>
</template>

<script lang="ts" setup>
const props = defineProps({
  setDragEle: {
    type: Function,
    required: true,
  },
});
// ã€æ‹–æ‹½å…ƒç´ ã€‘æ‹–æ‹½è¿›è¡Œä¸­
const drag = () => {
  console.log('æ‹–æ‹½å…ƒç´ ï¼šdragging');
};
// ã€æ‹–æ‹½å…ƒç´ ã€‘æ‹–æ‹½å¼€å§‹
const dragstart = event => {
  console.log('ğŸš€ ~ æ‹–æ‹½å…ƒç´ ï¼šå¼€å§‹');
  // store a ref. on the dragged elem
  props.setDragEle(event.target);
  // make it half transparent
  // ç›®æ ‡å…ƒç´ æ·»åŠ çŠ¶æ€
  event.target.classList.add('dragging');
};
// ã€æ‹–æ‹½å…ƒç´ ã€‘æ‹–æ‹½ç»“æŸ
const dragend = event => {
  // reset the transparency
  console.log('ğŸš€ ~ æ‹–æ‹½å…ƒç´ ï¼šç»“æŸ');
  event.target.classList.remove('dragging');
};
</script>
<style lang="less" scoped></style>
