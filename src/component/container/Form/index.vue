<template>
  <!-- å¤„ç†ä»ä½ä»£ç å¹³å°ä¼ é€’è¿‡æ¥çš„æ•°æ® -->
  <!-- è§£æä¹‹åå†ä¼ é€’ç»™åŸºç¡€ç»„ä»¶ -->
  <!-- è¿™æ ·å­ï¼Œå°†æ¥å¦‚æœåˆ«çš„ç³»ç»Ÿæƒ³è¦ç”¨è¿™ä¸ªåŸºç¡€ç»„ä»¶ï¼Œä¹Ÿä¸ä¼šå› ä¸ºå¹³å°ä¸åŒè€Œä¸èƒ½å¤Ÿä½¿ç”¨ -->
  <!-- <div> ä¸­é—´å±‚ </div> -->
  <div class="drop" @dragleave="dragleave" @drop="drop">
    <BaseComp> </BaseComp>
  </div>
</template>

<script lang="ts" setup name="FreeButton">
import dashBoardVue from '@/page/lowcode/edit/dash-board.vue';
import { formList } from '@/component/config';
import BaseComp from './Form.vue';
/* emitter.on('add-component', dragComponent);
  emitter.on('end-add-component', dragEnd); 
*/
// æ¥å—emitäº‹ä»¶ï¼Œæ˜¯ä¸æ˜¯ä¹Ÿèƒ½æ¥å—ç»„ä»¶
import { computed, PropType, ref } from 'vue';
import emitter from '@/plugin/mitt';

const props = defineProps({
  element: {
    type: Object as PropType<Container>,
    required: true,
  },
});

const options = computed(() => props.element.options);
console.log('ğŸš€ ~ file: index.vue ~ line 25 ~ options', options);

// æŒ‰é’®ä¸­è§¦å‘æ—¶æœºåªæœ‰ç‚¹å‡»ã€åŒå‡»ã€ç­‰å¾…
emitter.on(props.element.model + 'event', () => {});

const dragComponent = element => {
  if (formList.includes(element.component)) {
    // console.log('ğŸš€ ~ file: index.vue ~ line 32 ~ dragComponent ~ element', element);
  }
  // åªæ¥æ”¶ è¡¨å•ç»„ä»¶
};
const dragEnd = element => {
  // console.log('ğŸš€ ~ file: index.vue ~ line 34 ~ dragComponent ~ element', element);
};
const dragleave = () => {};
const drop = (event, ...args) => {
  console.log('event, args', event, args);
};
// emitter.on('add-component', dragComponent);
// emitter.on('end-add-component', dragEnd);
</script>
<style lang="less" scoped>
.drop {
  height: 100%;
}
</style>
